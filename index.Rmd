---
title: "Musical ecstasy"
author: "Maryse Sturm"
output: 
  flexdashboard::flex_dashboard:
    storyboard: true
---


### introduction: 'High on music'

I've been raised in a (protestant) christian household, and have gone to churches for as long as i can remember. Sometimes I think I've seen it all, from the traditional 'sit down' churches with the wooden benches and enourmous organs, to the evangelical, almost concert-like, gatherings and everything in between. As you can imagine, music is a big part of almost every sunday-service I've ever attended, each current with its own signature genre. What stands out to me is the way christians experience some kind of ecstasy, especially in the more evangelical part of the church. The music, to me, seems designed for a state of trance and worship, although I could never really say what things specifically contribute to that.

In this corpus I want to focus on the ecstasy people experience when listening to music. Specifically, worship music. I want to compare this to another genre which is generally known for its transcendental tendencies, something people listen to when they want to fall into ecstasy. So, for this comparison I chose dance music. I am aware of the extend of these 2 genres, both worship and dance music contain many subgenres and so many different 'vibes', so I carefully chose 2 playlists (to stay objective, I did not use my own playlist of worship songs, since I did not have such a playlist with dance songs). These playlists both promise in their description to get you in a state of trance, and create an euphoric atmosphere.

***

Note: I really want to embed the two spotify-playlists here, but still haven't found a way to do it. Tips are welcome :)

### comparing playlists: where to look for similarities?

```{R}

```
***

### self-similarity matrices 

```{R}
library(tidyverse)
library(spotifyr)
library(compmus)

bzt <- get_tidy_audio_analysis("2soQW3y7DwZIPH4fS5av1W") %>% 
  compmus_align(bars, segments) %>%                     
  select(bars) %>%                                      
  unnest(bars) %>%                                      
  mutate(pitches = map(segments,compmus_summarise, pitches,
                       method = "rms", norm = "euclidean")) %>%
  mutate(
    timbre =
      map(segments,
          compmus_summarise, timbre,
          method = "rms", norm = "euclidean"))

bzt %>%
  compmus_self_similarity(timbre, "cosine") %>% 
  ggplot(
    aes(
      x = xstart + xduration / 2,
      width = xduration,
      y = ystart + yduration / 2,
      height = yduration,
      fill = d
    )
  ) +
  geom_tile() +
  coord_fixed() +
  scale_fill_viridis_c(guide = "none") +
  theme_classic() +
  labs(x = "", y = "")
```



*** 




